!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define("VueMap",[],n):"object"==typeof exports?exports.VueMap=n():t.VueMap=n()}("undefined"!=typeof self?self:this,function(){return webpackJsonpVueMap([0],[function(t,n,e){"use strict";function o(t){return Array.isArray(t)?new google.maps.Point(t[0],t[1]):t}function i(t){return Array.isArray(t)?new google.maps.Size(t[0],t[1]):t}function r(t){return Array.isArray(t)?new google.maps.LatLng(t[1],t[0]):t}function a(t){if(t)return Array.isArray(t)?t.slice():[t.lng(),t.lat()]}function s(t){return new google.maps.LatLngBounds(r(t[0]),r(t[1]))}function c(t){return[a(t.getSouthWest()),a(t.getNorthEast())]}function u(t){var n=t;if("string"==typeof t)n={url:t};else if(t.image){var e=t.size,r=t.imageOffset,a=t.image,s=t.imageSize;n={url:a,size:i(e),origin:o(r),scaledSize:i(s)}}return console.log("toIcon",t,n,t===n),n}n.f=o,n.g=i,n.e=r,n.c=a,n.a=c,n.d=u,e.d(n,"b",function(){return p});var p={position:r,offset:o,bounds:s,LngLat:r,Pixel:o,Point:o,Size:i,Bounds:s,icon:u}},function(t,n,e){"use strict";var o=e(24),i=e.n(o),r=e(0),a=e(26),s=e(8),c=e(5);n.a={data:function(){return{unwatchFns:[]}},mounted:function(){var t=this;this.$map=this.$map||this.$parent.$map,this.$map?this.register():this.$on(s.a.MAP_READY_EVENT,function(n){t.$map=n,t.register()})},destroyed:function(){this.unregisterEvents(),this.$mapComponent&&(this.$mapComponent.setMap&&this.$mapComponent.setMap(null),this.$mapComponent.close&&this.$mapComponent.close(),this.unwatchFns.forEach(function(t){return t()}),this.unwatchFns=[])},methods:{getHandlerFun:function(t){return this.handlers&&this.handlers[t]?this.handlers[t]:this.$mapComponent["set"+i()(t)]||this.$mapComponent.setOptions},convertProps:function(){var t=this,n={};this.$map&&(n.map=this.$map);var e=this.$options.propsData,o=void 0===e?{}:e,i=this.propsRedirect;return Object.keys(o).reduce(function(e,o){var r=o,a=t.convertSignalProp(r,t[r]);return void 0===a?e:(i&&i[o]&&(r=i[r]),n[r]=a,e)},n)},convertSignalProp:function(t,n){var e="",o="";if(this.mapTagName)try{var i=this.mapTagName;o=(c.default[i]||"").props[t].$type,e=r.b[o]}catch(t){}if(o&&e)return e(n);if(this.converters&&this.converters[t])return this.converters[t].call(this,n);var a=r.b[t];return a?a(n):n},registerEvents:function(){var t=this;if(this.$options.propsData){if(this.$options.propsData.events){for(var n in this.events)!function(n){a.a.addListener(t.$mapComponent,n,function(e){t.events[n](e,t)})}(n)}if(this.$options.propsData.onceEvents){for(var n in this.onceEvents)!function(n){a.a.addListenerOnce(t.$mapComponent,n,function(e){t.onceEvents[n](e,t)})}(n)}}},unregisterEvents:function(){a.a.clearListeners(this.$mapComponent)},setPropWatchers:function(){var t=this,n=this.propsRedirect,e=this.$options.propsData,o=void 0===e?{}:e;Object.keys(o).forEach(function(e){var o=e;n&&n[e]&&(o=n[e]);var i=t.getHandlerFun(o);if(i||"events"===e){var r=t.$watch(e,function(n){if("events"===e)return t.unregisterEvents(),void t.registerEvents();if(i&&i===t.$mapComponent.setOptions){var r;return i.call(t.$mapComponent,(r={},r[o]=t.convertSignalProp(e,n),r))}i.call(t.$mapComponent,t.convertSignalProp(e,n))});t.unwatchFns.push(r)}})},registerToManager:function(){var t=this.mapManager||this.$parent.mapManager;t&&void 0!==this.vid&&t.setComponent(this.vid,this.$mapComponent)},initProps:function(){var t=this;["zooms"].forEach(function(n){if(void 0!==t[n]){var e=t.getHandlerFun(n);e&&e.call(t.$mapComponent,t.convertSignalProp(n,t[n]))}})},printReactiveProp:function(){var t=this;Object.keys(this._props).forEach(function(n){t.$mapComponent["set"+i()(n)]&&console.log(t.$options.name,n)})},register:function(){var t=this,n=this.__initComponent&&this.__initComponent(this.convertProps());n&&n.then?n.then(function(n){return t.registerRest(n)}):this.registerRest(n)},registerRest:function(t){!this.$mapComponent&&t&&(this.$mapComponent=t),this.registerEvents(),this.initProps(),this.setPropWatchers(),this.registerToManager(),this.events&&this.events.init&&this.events.init(this.$mapComponent,this.$map,this.mapManager||this.$parent.mapManager)},$$getInstance:function(){return this.$mapComponent}}}},,function(t,n,e){"use strict";e.d(n,"a",function(){return a}),e.d(n,"b",function(){return r});var o=e(16),i=e(6),r=null,a=function(t){i.a.prototype.$isServer||r||(r||(r=new o.a(t)),r.load())}},,function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e(3),i=e(20),r=e(28),a=e(29),s=e(30),c=e(31),u=e(32),p=e(33),l=e(34);e.d(n,"MapManager",function(){return l.a}),e.d(n,"initMapApiLoader",function(){return o.a}),e.d(n,"lazyMapApiLoaderInstance",function(){return o.b});var f=[i.a,r.a,a.a,s.a,c.a,u.a,p.a],m={initMapApiLoader:o.a,MapManager:l.a};m.install=function(t){m.installed||(t.config.optionMergeStrategies.deferredReady=t.config.optionMergeStrategies.created,f.map(function(n){t.component(n.name,n),m[n.name]=n}))};"undefined"!=typeof window&&window.Vue&&function t(n){t.installed||m.install(n)}(window.Vue),n.default=m},,function(t,n,e){"use strict";var o=e(23),i=e(8),r=e(0),a=e(1),s=e(3);n.a={name:"VueMap",mixins:[a.a],props:["vid","events","center","zoom","zooms","dragEnable","zoomEnable","rotateEnable","scrollWheel","clickableIcons","mapManager"],beforeCreate:function(){this._loadPromise=s.b.load()},data:function(){return{propsRedirect:{scrollWheel:"scrollwheel",zoomEnable:"zoomControl",dragEnable:"draggable",rotateEnable:"rotateControl"},converters:{center:function(t){return Object(r.e)(t)}},handlers:{zooms:function(t){this.setOptions({minZoom:t[0],maxZoom:t[1]})}}}},mounted:function(){this.createMap()},addEvents:function(){var t=this;this.$mapComponent.addListener("center_changed",function(){var n=t.$mapComponent.getCenter();t.$emit("update:center",[n.lng(),n.lat()])})},methods:{createMap:function(){var t=this;this._loadPromise.then(function(){var n=t.$el.querySelector(".vue-map"),e=t.vid||Object(o.a)();n.id=e;var r=t.convertProps();r.clickableIcons=r.clickableIcons||!1,t.$map=t.$mapComponent=new google.maps.Map(n,r),t.mapManager&&t.mapManager.setMap(t.$map),t.$emit(i.a.MAP_READY_EVENT,t.$map),t.$children.forEach(function(n){n.$emit(i.a.MAP_READY_EVENT,t.$map)})})},$$getCenter:function(){return this.$map?Object(r.c)(this.$map.getCenter()):Object(r.c)(this.center)}}}},function(t,n,e){"use strict";n.a={MAP_READY_EVENT:"MAP_READY_EVENT"}},function(t,n,e){"use strict";var o=e(1),i=e(0);n.a={name:"VueMapMarker",mixins:[o.a],props:["vid","position","icon","animation","cursor","draggable","label","visible","zIndex","opacity","offset","events","clickable"],data:function(){return{converters:{icon:function(t){var n=Object(i.d)(t);return!n.anchor&&this.offset&&(n.anchor=Object(i.f)(this.offset)),n}},handlers:{offset:function(t){if(t){var n=this.getIcon();n.anchor=Object(i.f)(t),this.setIcon(n)}}}}},methods:{__initComponent:function(t){this.$mapComponent=new google.maps.Marker(t)},$$getPosition:function(){return Object(i.c)(this.$mapComponent.getPosition())}},render:function(){return null}}},function(t,n,e){"use strict";var o=e(1),i=e(6),r=e(0);n.a={name:"VueMapInfoWindow",mixins:[o.a],props:["vid","autoMove","offset","position","zIndex","visible","events"],data:function(){var t=this;return{tmpVm:null,propsRedirect:{autoMove:"disableAutoPan",offset:"pixelOffset"},converters:{autoMove:function(t){return!t},offset:function(t){return Object(r.g)(t)}},handlers:{visible:function(n){!1===n?this.close():this.open(t.$map)}}}},created:function(){var t=this.$i18n;this.tmpVm=new i.a({i18n:t,data:function(){return{node:""}},render:function(t){var n=this.node;return t("div",{ref:"node"},Array.isArray(n)?n:[n])}}).$mount()},destroyed:function(){this.$mapComponent.close(),this.tmpVm.$destroy()},methods:{__initComponent:function(t){this.$slots.default&&this.$slots.default.length&&(t.content=this.tmpVm.$refs.node),delete t.map,this.$mapComponent=new google.maps.InfoWindow(t),!1!==this.visible&&this.$mapComponent.open(this.$map)}},render:function(){var t=this.$slots.default||[];return t.length&&(this.tmpVm.node=t),null}}},function(t,n,e){"use strict";var o=e(1),i=e(0);n.a={name:"VueMapPolyline",mixins:[o.a],props:{vid:String,clickable:Boolean,draggable:Boolean,editable:Boolean,strokeColor:String,strokeOpacity:Number,strokePosition:Number,strokeWeight:Number,visible:Boolean,zIndex:Number,geodesic:Boolean,path:Array,icons:Array,events:Object},data:function(){return{converters:{path:function(t){if(t&&t.length)return t.map(i.e)}}}},methods:{__initComponent:function(t){this.$mapComponent=new google.maps.Polyline(t)},$$getPath:function(){return this.$mapComponent.getPath().getArray().map(i.c)}},render:function(){return null}}},function(t,n,e){"use strict";var o=e(1),i=e(0);n.a={name:"VueMapPolygon",mixins:[o.a],props:{vid:String,clickable:Boolean,draggable:Boolean,editable:Boolean,fillColor:String,fillOpacity:Number,strokeColor:String,strokeOpacity:Number,strokePosition:Number,strokeWeight:Number,visible:Boolean,zIndex:Number,path:Array,events:Object},data:function(){return{converters:{path:function(t){if(t&&t.length)return t.map(i.e)}}}},methods:{__initComponent:function(t){console.log("polygon options",t),this.$mapComponent=new google.maps.Polygon(t)},$$getPath:function(){return this.$mapComponent.getPath().getArray().map(i.c)}},render:function(){return null}}},function(t,n,e){"use strict";var o=e(1),i=e(0),r="VueMapRectangle";n.a={name:r,mixins:[o.a],props:{vid:String,clickable:Boolean,draggable:Boolean,editable:Boolean,fillColor:String,fillOpacity:Number,strokeColor:String,strokeOpacity:Number,strokePosition:Number,strokeWeight:Number,visible:Boolean,zIndex:Number,bounds:{type:Array,$type:"Bounds"},events:Object},data:function(){return{mapTagName:r}},methods:{__initComponent:function(t){this.$mapComponent=new google.maps.Rectangle(t)},$$getBounds:function(){return Object(i.a)(this.$mapComponent.getBounds())},$$getCenter:function(){return Object(i.c)(this.$mapComponent.getBounds().getCenter())}},render:function(){return null}}},function(t,n,e){"use strict";var o=e(1),i=e(0),r="VueMapCircle";n.a={name:r,mixins:[o.a],props:{vid:String,clickable:Boolean,draggable:Boolean,editable:Boolean,fillColor:String,fillOpacity:Number,strokeColor:String,strokeOpacity:Number,strokePosition:Number,strokeWeight:Number,visible:Boolean,zIndex:Number,radius:Number,center:{type:Array,$type:"LngLat"},events:Object},data:function(){return{mapTagName:r}},methods:{__initComponent:function(t){this.$mapComponent=new google.maps.Circle(t)},$$getBounds:function(){return Object(i.a)(this.$mapComponent.getBounds())},$$getCenter:function(){return Object(i.c)(this.$mapComponent.getCenter())},$$getRadius:function(){return this.$mapComponent.getRadius()}},render:function(){return null}}},function(t,n,e){t.exports=e(5)},function(t,n,e){"use strict";function o(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var i=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},r={key:null,protocol:"https",hostAndPath:"maps.googleapis.com/maps/api/js",callback:"mapInitComponent"},a=function(){function t(n){o(this,t),this._config=i({},r,n),this._document=document,this._window=window,this._scriptLoaded=!1}return t.prototype.load=function(){var t=this;if(this._window.google&&this._window.google.maps&&this._window.google.maps.Map)return Promise.resolve();if(this._scriptLoadingPromise)return this._scriptLoadingPromise;var n=this._document.createElement("script");return n.type="text/javascript",n.async=!0,n.defer=!0,n.src=this._getScriptSrc(),this._scriptLoadingPromise=new Promise(function(e,o){t._window.mapInitComponent=function(){e()},n.onerror=function(t){return o(t)}}),this._document.head.appendChild(n),this._scriptLoadingPromise},t.prototype._getScriptSrc=function(){var t=this._config,n=["key","callback"],e=Object.keys(t).filter(function(t){return~n.indexOf(t)}).filter(function(n){return null!=t[n]}).filter(function(n){return!Array.isArray(t[n])||Array.isArray(t[n])&&t[n].length>0}).map(function(n){var e=t[n];return Array.isArray(e)?{key:n,value:e.join(",")}:{key:n,value:e}}).map(function(t){return t.key+"="+t.value}).join("&");return this._config.protocol+"://"+this._config.hostAndPath+"?"+e},t}();n.a=a},,,,function(t,n,e){"use strict";function o(t){e(21)}var i=e(7),r=e(27),a=e(2),s=o,c=Object(a.a)(i.a,r.a,r.b,!1,s,null,null);n.a=c.exports},function(t,n){},,function(t,n,e){"use strict";function o(){for(var t=[],n="0123456789abcdef",e=0;e<36;e++)t[e]=n.substr(Math.floor(16*Math.random()),1);return t[14]="4",t[19]=n.substr(3&t[19]|8,1),t[8]=t[13]=t[18]=t[23]="-",t.join("")}n.a=o},,,function(t,n,e){"use strict";function o(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var i=void 0,r=function(){function t(){o(this,t),this._listener=new Map}return t.prototype.addListener=function(t,n,e,o){if(!google.maps.event)throw new Error("please wait for Map API load");var i=google.maps.event.addListener(t,n,e,o);this._listener.get(t)||this._listener.set(t,{});var r=this._listener.get(t);r[n]||(r[n]=[]),r[n].push(i)},t.prototype.removeListener=function(t,n,e){if(!google.maps.event)throw new Error("please wait for Map API load");if(this._listener.get(t)&&this._listener.get(t)[n]){var o=this._listener.get(t)[n];if(e){var i=o.indexOf(e);google.maps.event.removeListener(o[i]),o.splice(i,1)}else o.forEach(function(t){google.maps.event.removeListener(t)}),this._listener.get(t)[n]=[]}},t.prototype.addListenerOnce=function(t,n,e,o){return google.maps.event.addListenerOnce(t,n,e,o)},t.prototype.trigger=function(t,n,e){return google.maps.event.trigger(t,n,e)},t.prototype.clearListeners=function(t){var n=this,e=this._listener.get(t);e&&Object.keys(e).map(function(e){n.removeListener(t,e)})},t}();i=i||new r,n.a=i},function(t,n,e){"use strict";e.d(n,"a",function(){return o}),e.d(n,"b",function(){return i});var o=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"vue-map-container"},[e("div",{staticClass:"vue-map"}),t._v(" "),t._t("default")],2)},i=[]},function(t,n,e){"use strict";var o=e(9),i=e(2),r=Object(i.a)(o.a,void 0,void 0,!1,null,null,null);n.a=r.exports},function(t,n,e){"use strict";var o=e(10),i=e(2),r=Object(i.a)(o.a,void 0,void 0,!1,null,null,null);n.a=r.exports},function(t,n,e){"use strict";var o=e(11),i=e(2),r=Object(i.a)(o.a,void 0,void 0,!1,null,null,null);n.a=r.exports},function(t,n,e){"use strict";var o=e(12),i=e(2),r=Object(i.a)(o.a,void 0,void 0,!1,null,null,null);n.a=r.exports},function(t,n,e){"use strict";var o=e(13),i=e(2),r=Object(i.a)(o.a,void 0,void 0,!1,null,null,null);n.a=r.exports},function(t,n,e){"use strict";var o=e(14),i=e(2),r=Object(i.a)(o.a,void 0,void 0,!1,null,null,null);n.a=r.exports},function(t,n,e){"use strict";function o(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(){o(this,t),this._componentMap=new Map,this._map=null}return t.prototype.setMap=function(t){this._map=t},t.prototype.getMap=function(){return this._map},t.prototype.setComponent=function(t,n){this._componentMap.set(t,n)},t.prototype.getComponent=function(t){return this._componentMap.get(t)},t.prototype.getChildInstance=function(t){return this.getComponent(t)},t.prototype.removeComponent=function(t){this._componentMap.delete(t)},t}();n.a=i}],[15])});
//# sourceMappingURL=google.9bb0ec16cd4bcb24dbf6.js.map